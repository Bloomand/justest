{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/; // this link details how the check digit is calculated:\n// https://www.isin.org/isin-format/. it is a little bit\n// odd in that it works with digits, not numbers. in order\n// to make only one pass through the ISIN characters, the\n// each alpha character is handled as 2 characters within\n// the loop.\n\nfunction isISIN(str) {\n  (0, _assertString.default)(str);\n  if (!isin.test(str)) {\n    return false;\n  }\n  var double = true;\n  var sum = 0; // convert values\n\n  for (var i = str.length - 2; i >= 0; i--) {\n    if (str[i] >= 'A' && str[i] <= 'Z') {\n      var value = str[i].charCodeAt(0) - 55;\n      var lo = value % 10;\n      var hi = Math.trunc(value / 10); // letters have two digits, so handle the low order\n      // and high order digits separately.\n\n      for (var _i = 0, _arr = [lo, hi]; _i < _arr.length; _i++) {\n        var digit = _arr[_i];\n        if (double) {\n          if (digit >= 5) {\n            sum += 1 + (digit - 5) * 2;\n          } else {\n            sum += digit * 2;\n          }\n        } else {\n          sum += digit;\n        }\n        double = !double;\n      }\n    } else {\n      var _digit = str[i].charCodeAt(0) - '0'.charCodeAt(0);\n      if (double) {\n        if (_digit >= 5) {\n          sum += 1 + (_digit - 5) * 2;\n        } else {\n          sum += _digit * 2;\n        }\n      } else {\n        sum += _digit;\n      }\n      double = !double;\n    }\n  }\n  var check = Math.trunc((sum + 9) / 10) * 10 - sum;\n  return +str[str.length - 1] === check;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","isISIN","_assertString","_interopRequireDefault","require","obj","__esModule","isin","str","test","double","sum","i","length","charCodeAt","lo","hi","Math","trunc","_i","_arr","digit","_digit","check","module"],"sources":["D:/GitHub/TP2/just-test-front/justest/node_modules/validator/lib/isISIN.js"],"sourcesContent":["\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = isISIN;\r\n\r\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/; // this link details how the check digit is calculated:\r\n// https://www.isin.org/isin-format/. it is a little bit\r\n// odd in that it works with digits, not numbers. in order\r\n// to make only one pass through the ISIN characters, the\r\n// each alpha character is handled as 2 characters within\r\n// the loop.\r\n\r\nfunction isISIN(str) {\r\n  (0, _assertString.default)(str);\r\n\r\n  if (!isin.test(str)) {\r\n    return false;\r\n  }\r\n\r\n  var double = true;\r\n  var sum = 0; // convert values\r\n\r\n  for (var i = str.length - 2; i >= 0; i--) {\r\n    if (str[i] >= 'A' && str[i] <= 'Z') {\r\n      var value = str[i].charCodeAt(0) - 55;\r\n      var lo = value % 10;\r\n      var hi = Math.trunc(value / 10); // letters have two digits, so handle the low order\r\n      // and high order digits separately.\r\n\r\n      for (var _i = 0, _arr = [lo, hi]; _i < _arr.length; _i++) {\r\n        var digit = _arr[_i];\r\n\r\n        if (double) {\r\n          if (digit >= 5) {\r\n            sum += 1 + (digit - 5) * 2;\r\n          } else {\r\n            sum += digit * 2;\r\n          }\r\n        } else {\r\n          sum += digit;\r\n        }\r\n\r\n        double = !double;\r\n      }\r\n    } else {\r\n      var _digit = str[i].charCodeAt(0) - '0'.charCodeAt(0);\r\n\r\n      if (double) {\r\n        if (_digit >= 5) {\r\n          sum += 1 + (_digit - 5) * 2;\r\n        } else {\r\n          sum += _digit * 2;\r\n        }\r\n      } else {\r\n        sum += _digit;\r\n      }\r\n\r\n      double = !double;\r\n    }\r\n  }\r\n\r\n  var check = Math.trunc((sum + 9) / 10) * 10 - sum;\r\n  return +str[str.length - 1] === check;\r\n}\r\n\r\nmodule.exports = exports.default;\r\nmodule.exports.default = exports.default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}